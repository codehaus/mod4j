/**
 * Extension Point initial generated by Mod4j at: Wed Apr 08 12:46:14 CEST 2009
 */
package com.rosa.breakfast.domain.businessrules;

import org.springframework.validation.Errors;

import com.rosa.breakfast.domain.Part;

/**
 * The quantity of a Part should be equal or greater then the minimalQuantity of the corresponding Comestible
 * 
 * This ExtensionPoint is intended to be manually changed by developers.
 * 
 */
public class PartCheckMinimumQuantity extends PartCheckMinimumQuantityImplBase {

    /**
     * {@inheritDoc}
     */
    public void validate(Object target, Errors errors) {
    	
        Part part = (Part) target;
        
        if (part.getComestible() != null) {
            if (part.getQuantity() < part.getComestible().getMinimalQuantity()) {
                errors.rejectValue("quantity", "part.br.checkminimumquantity", new Object[] { Integer.toString(part
                        .getComestible().getMinimalQuantity()) },
                        "Quantity cannot be less than the minimum for the comestible");
            }
        }
    }

}
