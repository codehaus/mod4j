<?xml version="1.0" encoding="UTF-8"?>
<ecore:EPackage xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" name="ServiceDsl"
    nsURI="http://www.mod4j.org/service" nsPrefix="service">
  <eClassifiers xsi:type="ecore:EClass" name="ServiceModel" eSuperTypes="#//ModelElement">
    <eStructuralFeatures xsi:type="ecore:EReference" name="methods" upperBound="-1"
        eType="#//ServiceMethod" containment="true" eOpposite="#//ServiceMethod/model"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="dtoReferences" upperBound="-1"
        eType="#//DtoReference" containment="true" eOpposite="#//DtoReference/model"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="crudServices" upperBound="-1"
        eType="#//CrudService" containment="true" eOpposite="#//CrudService/model"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ModelElement">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="description" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="DtoReference" eSuperTypes="#//ModelElement">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="modelname" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="model" eType="#//ServiceModel"
        eOpposite="#//ServiceModel/dtoReferences"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="CustomMethod" eSuperTypes="#//ServiceMethod">
    <eStructuralFeatures xsi:type="ecore:EReference" name="output" eType="#//DtoReference"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="inParameters" upperBound="-1"
        eType="#//Parameter" containment="true" eOpposite="#//Parameter/method"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EEnum" name="MethodType">
    <eLiterals name="Create"/>
    <eLiterals name="Read" value="1"/>
    <eLiterals name="Update" value="2"/>
    <eLiterals name="Delete" value="3"/>
    <eLiterals name="Find" value="4"/>
    <eLiterals name="Custom" value="5"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="CrudService" eSuperTypes="#//ModelElement">
    <eStructuralFeatures xsi:type="ecore:EReference" name="dto" eType="#//DtoReference"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="model" eType="#//ServiceModel"
        eOpposite="#//ServiceModel/crudServices"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="SpecialMethod" eSuperTypes="#//ServiceMethod">
    <eStructuralFeatures xsi:type="ecore:EReference" name="dto" eType="#//DtoReference"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ServiceMethod" eSuperTypes="#//ModelElement">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="type" eType="#//MethodType"
        defaultValueLiteral="Custom"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="model" eType="#//ServiceModel"
        eOpposite="#//ServiceModel/methods"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Parameter" eSuperTypes="#//ModelElement">
    <eStructuralFeatures xsi:type="ecore:EReference" name="type" eType="#//DtoReference"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="method" eType="#//CustomMethod"
        eOpposite="#//CustomMethod/inParameters"/>
  </eClassifiers>
</ecore:EPackage>
