preventMMGeneration

importMetamodel "http://www.mod4j.org/service" ;

ServiceModel:
	(description=STRING )?
	"Service" name = ID
	(dtoReferences+=DtoReference)*
	(crudServices += CrudService)*
	(methods+= ServiceMethod)*
	;

DtoReference:
	(description=STRING )?
    "from" modelname=ID "import" name=ID 
    ;

ServiceMethod :
	(description=STRING )?
    (CustomMethod | SpecialMethod)
    ;
         	
CustomMethod:
	"method"
	name=ID
	("in"  input =[DtoReference]  )?
	("out" output=[DtoReference] )?
    ";" ;
     
SpecialMethod:
    type=MethodType
    name=ID
    "for" dto = [DtoReference]
    ";"
    ;
    
CrudService:
	(description=STRING )?
    "crud" "for" dto =[DtoReference]
    ";"
    ;

Enum MethodType:
     Create="create"  | Read="read" | Update="update" | Delete="delete" | Custom="custom"
     ;
