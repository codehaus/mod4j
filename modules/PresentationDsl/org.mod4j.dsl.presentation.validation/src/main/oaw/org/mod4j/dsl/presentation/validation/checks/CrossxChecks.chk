/*******************************************************************************
 * Copyright (c) 2008 Ordina and committers to Mod4j
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *     Ordina - initial implementation
 *******************************************************************************/
import PresentationDsl;
import crossx;

extension org::mod4j::crossx::broker::xtend::Crossx;
extension org::mod4j::dsl::presentation::mm::helpers::PresentationHelpers;
extension org::mod4j::dslcommon::xtend::generatorutil;

context ExternalReference ERROR "there is no model " + this.modelName  + " that contains " + this.name :
       ( !findAllFromModel(this.modelName, this.name, { "Dto", "Dialogue", "Process", "Link" } ).isEmpty )
       ||
       ( !findAllFromModel(this.modelName, this.name, { "Service" } ).isEmpty )
       ;

context FormElement ERROR "02 Property [" + this.references.name + "] not defined in " + this.form.contextRef.name :
	let dtoSymbol = lookupSymbol(this.form.contextRef.modelName, this.form.contextRef.name, "Dto") :
	(dtoSymbol != null) && (getSubSymbol(dtoSymbol, this.references.name) != null ) ;
	
	        

